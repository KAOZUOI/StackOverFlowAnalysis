try {        Serializer serializer = new Persister();                    Document kml = new Document(placemarks);                                                        try {            // Read in the KML file            File kmlFile = new File(filePath.substring(0, filePath.lastIndexOf(&quot;.&quot;)) + &quot;.kml&quot; );            String kmlFileName = kmlFile.getName();                           FileInputStream fis = new FileInputStream(kmlFile);            byte[] kmlBytes = new byte[(int) kmlFile.length()];            fis.read(kmlBytes);            fis.close();                            // Create the KMZ file            File kmzFile = new File(filePath.substring(0, filePath.lastIndexOf(&quot;.&quot;)) + &quot;.kmz&quot; );            FileOutputStream fos = new FileOutputStream(kmzFile);            ZipOutputStream zos = new ZipOutputStream(fos);            // Add the KML file to the KMZ archive            ZipEntry kmlEntry = new ZipEntry(kmlFileName);            zos.putNextEntry(kmlEntry);            zos.write((&quot;<?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot;?>&quot; + &quot;\n&quot;).getBytes());            zos.write((&quot;<kml xmlns=\&quot;http://www.opengis.net/kml/2.2\&quot;>&quot; + &quot;\n&quot;).getBytes());            serializer.write(kml, zos); // write KML data directly to the KMZ file            zos.write(&quot;</kml>&quot;.getBytes()); // add closing </kml> tag to the KMZ file                                                        zos.closeEntry();