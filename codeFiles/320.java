public static void main(String[] args)    {        try        {            //Paths            String basePath = &quot;C:\\Users\\user\\Desktop\\Scan\\&quot;;            File lookupDir = new File(basePath + &quot;Data\\&quot;);            String doneFolder = basePath + &quot;DoneUnzipping\\&quot;;                               File[] directoryListing = lookupDir.listFiles();                            for (int i = 0; i < directoryListing.length; i++)             {                if (directoryListing[i].isFile()) //there's definately a file                {                    //Save the current file's path                    String pathOrigFile = directoryListing[i].getAbsolutePath();                    Path origFileDone = Paths.get(pathOrigFile);                    Path newFileDone = Paths.get(doneFolder + directoryListing[i].getName());                                                //unzip it                    if(directoryListing[i].getName().toUpperCase().endsWith(ZIP_EXTENSION)) //ZIP files                    {                        unzip(directoryListing[i].getAbsolutePath(), DESTINATION_DIRECTORY + directoryListing[i].getName());                                                    //move to the 'DoneUnzipping' folder                        Files.move(origFileDone, newFileDone);                                                    }                    }             }        } catch (Exception e)        {            e.printStackTrace(System.out);        }    }                private static void unzip(String zipFilePath, String destDir)     {                //buffer for read and write data to file        byte[] buffer = new byte[BUFFER_SIZE];                try (ZipInputStream zis = new ZipInputStream(new FileInputStream(zipFilePath))) {                FileInputStream fis = new FileInputStream(zipFilePath);                ZipEntry ze = zis.getNextEntry();                                while(ze != null)                {                    String fileName = ze.getName();                    int index = fileName.lastIndexOf(&quot;/&quot;);                    String newFileName = fileName.substring(index + 1);                    File newFile = new File(destDir + File.separator + newFileName);                                        //Zips inside zips                      if(fileName.toUpperCase().endsWith(ZIP_EXTENSION))                    {                                              ZipInputStream innerZip = new ZipInputStream(zis);                                                            ZipEntry innerEntry = null;                                while((innerEntry = innerZip.getNextEntry()) != null)                                 {                                    System.out.println(&quot;The file: &quot; + fileName);                                    if(fileName.toUpperCase().endsWith(&quot;PDF&quot;))                                     {                                        FileOutputStream fos = new FileOutputStream(newFile);                                        int len;                                        while ((len = innerZip.read(buffer)) > 0)                                         {                                            fos.write(buffer, 0, len);                                        }                                        fos.close();                                    }                                }                                                }                                    //close this ZipEntry                zis.closeEntry(); // java.io.IOException: Stream Closed                ze = zis.getNextEntry();                                                       }                          //close last ZipEntry            zis.close();            fis.close();        } catch (IOException e)         {            e.printStackTrace();        }            }