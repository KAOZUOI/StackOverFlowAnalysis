Socket clientSocket = new Socket(InetAddress.getByName(&quot;<address of the server>&quot;), 4999);BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));int len = Integer.valueOf(in.readLine());System.out.println(&quot;expected length: &quot; + len);        byte[] receiveBuf = clientSocket.getInputStream().readNBytes(len);System.out.println(&quot;received buffer length: &quot; + receiveBuf.length);/*  At this point, the receiveBuf.length should be the expected size, but as soon as the server sends a to large buffer or the delay between the two send statements in the server is to small, the client prints that it received an incorrect number of bytes (always  less then the expected). With a buffer size of 20000 bytes I got the client to output that it received 11808 bytes, which is 20000 - 2^13...*/        clientSocket.close();